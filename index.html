<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>For You ‚ù§Ô∏è</title>

<style>
body {
    margin: 0;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: 'Georgia', serif;
    background: linear-gradient(135deg, #ffdde1, #d36c8e);
    animation: pageFade 1.5s ease-in forwards;
    opacity: 0;
}

@keyframes pageFade {
    to {
        opacity: 1;
    }
}

.game-container {
    text-align: center;
    width: 80%;
    max-width: 700px;
    padding: 40px;
    border-radius: 20px;

    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);

    box-shadow: 
    0 0 30px rgba(255, 182, 193, 0.25),
    0 0 60px rgba(255, 105, 135, 0.15);
}

h1 {
    margin-bottom: 10px;
    position: relative;
    display: inline-block;
    overflow: hidden;
}

h1::after {
    content: "";
    position: absolute;
    top: 0;
    left: -100%;
    width: 50%;
    height: 100%;
    background: linear-gradient(
        120deg,
        transparent,
        rgba(255, 255, 255, 0.6),
        transparent
    );
    transform: skewX(-20deg);
    animation: shimmer 4s infinite;
}

@keyframes shimmer {
    0% {
        left: -100%;
    }
    60% {
        left: 150%;
    }
    100% {
        left: 150%;
    }
}

.word-bank, .drop-zone {
    margin-top: 25px;
    min-height: 70px;
}

.word {
    display: inline-block;
    padding: 10px 16px;
    margin: 6px;
    background: white;
    border-radius: 8px;
    cursor: grab;
    font-weight: bold;
    transition: 0.2s;
}

.word:hover {
    background: #ffe6ec;
    transform: scale(1.05);
}

.drop-zone {
    border: 2px dashed white;
    padding: 20px;
    border-radius: 12px;
}

button {
    margin-top: 20px;
    padding: 10px 18px;
    border: none;
    border-radius: 8px;
    background: #d63578;
    color: white;
    cursor: pointer;
    transition: all 0.3s ease;
}

button:hover {
    transform: scale(1.05);
    box-shadow: 0 0 20px rgba(255, 77, 109, 0.6);
}

button:active {
    transform: scale(0.97);
}

.fade button {
    animation: buttonGlow 2s infinite alternate;
}

@keyframes buttonGlow {
    from {
        box-shadow: 0 0 10px rgba(255, 105, 135, 0.4);
    }
    to {
        box-shadow: 0 0 25px rgba(255, 105, 135, 0.9);
    }
}

/* Floating hearts */
.heart {
    position: fixed;
    bottom: -20px;
    font-size: 18px;
    animation: floatUp 6s linear infinite;
    opacity: 0.7;
}

@keyframes floatUp {
    0% { transform: translateY(0); opacity: 0.7; }
    100% { transform: translateY(-110vh); opacity: 0; }
}

.fade {
    animation: fadeIn 2s ease-in forwards;
}

@keyframes fadeIn {
    from {opacity:0;}
    to {opacity:1;}
}

@keyframes sparklePop {
    0% {
        transform: scale(0.3);
        opacity: 0;
    }
    40% {
        transform: scale(1.3);
        opacity: 1;
    }
    100% {
        transform: scale(0.9);
        opacity: 0;
    }
}

</style>
</head>

<body>

<div class="game-container" id="game">

<h1>Happy Valentine's Day My Dearestü•∞ </h1>
<p>Drag the words to build your valentine's poem. </p>

<div class="word-bank" id="wordBank">
    <div class="word" draggable="true">My</div>
    <div class="word" draggable="true">Led</div>
    <div class="word" draggable="true">All</div>
    <div class="word" draggable="true">To</div>
    <div class="word" draggable="true">Nights</div>
    <div class="word" draggable="true">You</div>
</div>

<div class="drop-zone" id="dropZone">
    Drop words here
</div>

<button onclick="checkPoem()">Submit</button>
<button onclick="toggleMusic(this)">Play Our Song üéµ</button>

</div>

<audio id="bgMusic" loop>
  <source src="song.mp3" type="audio/mpeg">
</audio>

<script>

const wordBank = document.getElementById("wordBank");
const dropZone = document.getElementById("dropZone");

let placeholderText = "Drop words here";

dropZone.innerText = placeholderText;

// DRAG START
document.querySelectorAll(".word").forEach(word => {
    word.addEventListener("dragstart", e => {
        e.dataTransfer.setData("text", e.target.innerText);
        e.dataTransfer.setData("source", "bank");
    });
});

// ALLOW DROP
dropZone.addEventListener("dragover", e => e.preventDefault());
wordBank.addEventListener("dragover", e => e.preventDefault());

// DROP INTO DROP ZONE
dropZone.addEventListener("drop", e => {
    e.preventDefault();
    let text = e.dataTransfer.getData("text");
    let source = e.dataTransfer.getData("source");

    if (source === "bank") {
        let originalWord = [...wordBank.children].find(w => w.innerText === text);
        if (!originalWord) return;

        originalWord.style.display = "none";

        if (dropZone.innerText === placeholderText) {
            dropZone.innerText = "";
        }

        let newWord = document.createElement("span");
        newWord.className = "word";
        newWord.innerText = text;
        newWord.draggable = true;

        newWord.addEventListener("dragstart", ev => {
            ev.dataTransfer.setData("text", text);
            ev.dataTransfer.setData("source", "drop");
        });

        dropZone.appendChild(newWord);
    }
});

// DROP BACK INTO WORD BANK
wordBank.addEventListener("drop", e => {
    e.preventDefault();
    let text = e.dataTransfer.getData("text");
    let source = e.dataTransfer.getData("source");

    if (source === "drop") {
        let wordInDrop = [...dropZone.children].find(w => w.innerText === text);
        if (wordInDrop) wordInDrop.remove();

        let originalWord = [...wordBank.children].find(w => w.innerText === text);
        if (originalWord) originalWord.style.display = "inline-block";

        if (dropZone.children.length === 0) {
            dropZone.innerText = placeholderText;
        }
    }
});

// CHECK ANSWER
function checkPoem() {
    let userText = [...dropZone.querySelectorAll(".word")]
        .map(w => w.innerText)
        .join(" ");

    if (userText === "All My Nights Led To You") {
        showLoveLetter();
    } else {
        alert("Not this way... try again babyü•∫");
    }
}

// LOVE LETTER + RETRY
function showLoveLetter() {

    // sparkle pop effect
    const sparkleColors = ["#ffffff", "#ffe066", "#fff3b0"];

    for (let i = 0; i < 45; i++) {

        setTimeout(() => {

            let sparkle = document.createElement("div");
            sparkle.innerHTML = "‚ú®";
            sparkle.style.position = "fixed";
            sparkle.style.left = Math.random() * 100 + "vw";
            sparkle.style.top = Math.random() * 100 + "vh";
            sparkle.style.fontSize = (14 + Math.random() * 24) + "px";
            sparkle.style.color = sparkleColors[Math.floor(Math.random() * sparkleColors.length)];
            sparkle.style.pointerEvents = "none";
            sparkle.style.zIndex = "9999";
            sparkle.style.filter = "drop-shadow(0 0 8px rgba(255,255,255,0.8))";
            sparkle.style.animation = "sparklePop 1.4s ease-out forwards";

            document.body.appendChild(sparkle);

            setTimeout(() => sparkle.remove(), 1400);

        }, i * 70);
    }

    document.getElementById("game").innerHTML = `
        <div class="fade">
            <h2>You solved it honey üòò</h2>
            <p>
            All my nights led to you<br>
            I was the moon waiting<br>
            You, my long-awaited sun<br>
            Pulled by a love I prayed for<br>
            Written long before we met<br>
            Chosen in every lifetime<br>
            My forever begins and ends with you.
            </p>
            <button onclick="toggleMusic(this)">Play Our Song üéµ</button>
            <button onclick="alert('YOU ARE MINE NOW FOREVER!! üíò')">
                Be My Valentine Forever?
            </button>
            <br><br>
            <button onclick="location.reload()">Retry?</button>
        </div>
    `;
}

// MUSIC
function toggleMusic(button) {
    const music = document.getElementById("bgMusic");

    if (music.paused) {
        music.play();
        button.innerText = "Pause Our Song ‚è∏";
    } else {
        music.pause();
        button.innerText = "Play Our Song üéµ";
    }
}


// FLOATING HEARTS
const heartColors = ["#ff4d6d","#ffffff","#c77dff","#ff85a1", "#b5179e"];
setInterval(() => {
    let heart = document.createElement("div");
    heart.className = "heart";
    heart.innerHTML = "‚ù§";  // solid heart character
    heart.style.color = heartColors[Math.floor(Math.random() * heartColors.length)];
    heart.style.left = Math.random() * 100 + "vw";
    heart.style.fontSize = (14 + Math.random() * 20) + "px";
    heart.style.animationDuration = (4 + Math.random() * 4) + "s";

    document.body.appendChild(heart);

    setTimeout(() => heart.remove(), 7000);
}, 700);

// GLOWING CURSOR
let cursorGlow = document.createElement("div");
cursorGlow.style.position = "fixed";
cursorGlow.style.width = "25px";
cursorGlow.style.height = "25px";
cursorGlow.style.borderRadius = "50%";
cursorGlow.style.background = "radial-gradient(circle, rgba(255,255,255,0.6) 0%, rgba(255,255,255,0) 70%)";
cursorGlow.style.pointerEvents = "none";
cursorGlow.style.zIndex = "9999";
cursorGlow.style.transition = "transform 0.08s linear";
document.body.appendChild(cursorGlow);

document.addEventListener("mousemove", e => {
    cursorGlow.style.left = e.clientX - 12 + "px";
    cursorGlow.style.top = e.clientY - 12 + "px";
});


//secret message
console.log("Look who found this secret message... I'll try to keep this a secret and let you find it, unless you give up hehe.\nOm, you are someone very special to me and will always be.\nYou are the one sent for me by the heavens.\nI begged God so much that he eventually gave up and let us meet after all.\nI'll never let you go since you were my goal all along,\nThe reason why I didn't give up on life because you are my purpose.\nMy purpose of love, all this love in me are meant for you, has always meant for you.\nI promise to keep you happy as I owe this love to you.\nThank you for letting me feel the warmth of love. My happy ending that you are.\nMy dearest ‚ù§Ô∏è");

</script>
</body>
</html>
